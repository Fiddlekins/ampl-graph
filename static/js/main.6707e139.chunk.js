(this["webpackJsonpampl-graph"]=this["webpackJsonpampl-graph"]||[]).push([[0],{11:function(t,e,a){t.exports={app:"App_app__YGwuJ"}},13:function(t,e,a){t.exports={plot:"Graph_plot__V3tCh"}},18:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(18),a(4)),s=a(3),l=a.n(s),u=a(5),p=a(2),f=a(9),h=a(10),d=864e5;function m(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(l.a.mark((function t(){var e,a,n,r,c,o,s,u,f,h,m,v,y,_,b,j,x,O,k,g,w,D,S;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.coingecko.com/api/v3/coins/ampleforth/market_chart?vs_currency=usd&days=max");case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,n=a.market_caps,r=a.prices,c=a.total_volumes,o={},s=Object(p.a)(n);try{for(s.s();!(u=s.n()).done;)f=Object(i.a)(u.value,2),h=f[0],m=f[1],o[h]||(o[h]={timestamp:h}),o[h].market_cap=m}catch(l){s.e(l)}finally{s.f()}v=Object(p.a)(r);try{for(v.s();!(y=v.n()).done;)_=Object(i.a)(y.value,2),b=_[0],j=_[1],o[b]||(o[b]={timestamp:b}),o[b].price=j}catch(l){v.e(l)}finally{v.f()}x=Object(p.a)(c);try{for(x.s();!(O=x.n()).done;)k=Object(i.a)(O.value,2),g=k[0],w=k[1],o[g]||(o[g]={timestamp:g}),o[g].total_volume=w}catch(l){x.e(l)}finally{x.f()}return D=Object.keys(o).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})),S=D[0],t.abrupt("return",D.map((function(t){var e=o[t];return{market_cap:e.market_cap,price:e.price,total_volume:e.total_volume,daysSinceStart:(t-S)/d}})));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=new(function(){function t(){Object(f.a)(this,t),this._handlers={},this._boundPollData=this._pollData.bind(this),this._pollData()}return Object(h.a)(t,[{key:"on",value:function(t,e,a){this._handlers[t]||(this._handlers[t]=new Set),this._handlers[t].add({handler:e,context:a})}},{key:"off",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._handlers[t]){var n,r=Object(p.a)(this._handlers[t]);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.handler!==e||a&&c.context!==a||this._handlers[t].delete(c)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"emit",value:function(t){if(this._handlers[t]){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];var r,c=Object(p.a)(this._handlers[t]);try{for(c.s();!(r=c.n()).done;){var o=r.value,i=o.handler,s=o.context;s?i.call.apply(i,[s].concat(a)):i.apply(void 0,a)}}catch(l){c.e(l)}finally{c.f()}}}},{key:"_pollData",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=t.sent,this.emit("data",e),setTimeout(this._boundPollData,36e5);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}()),_=a(11),b=a.n(_),j=a(12),x=a.n(j),O=a(13),k=a.n(O),g=a(1);function w(t){var e=t.amplData,a=e.map((function(t){return t.price})),n=e.map((function(t){return t.market_cap})),r=e.map((function(t){return t.total_volume})),c=e.map((function(t){return t.daysSinceStart})),o=[{x:a,y:n,z:r,type:"scatter3d",mode:"lines+markers",marker:{color:c,colorscale:"Rainbow",size:3},text:c.map((function(t){return"Day ".concat(t)}))}];return Object(g.jsx)(x.a,{data:o,layout:{autosize:!0,title:"AMPL historical data",scene:{xaxis:{title:{text:"Price"}},yaxis:{title:{text:"Market Cap"},type:"log",autorange:!0},zaxis:{title:{text:"Total Volume"},type:"log",autorange:!0}}},useResizeHandler:!0,className:k.a.plot})}var D=function(){var t=Object(n.useState)([]),e=Object(i.a)(t,2),a=e[0],r=e[1];return Object(n.useEffect)((function(){var t=function(t){r(t)};return y.on("data",t),function(){y.off("data",t)}})),Object(g.jsx)("div",{className:b.a.app,children:Object(g.jsx)(w,{amplData:a})})},S=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),n(t),r(t),c(t),o(t)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(D,{})}),document.getElementById("root")),S()}},[[27,1,2]]]);
//# sourceMappingURL=main.6707e139.chunk.js.map